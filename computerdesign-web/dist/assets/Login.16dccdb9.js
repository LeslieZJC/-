import{r as y,d as C,u as x,b,e as c,o as w,c as g,f as t,w as u,g as n,F as k,h as F,i as f,E as B,_ as V,a,p as A,j as I}from"./index.2d53c906.js";function L(s,l){return new Promise((e,d)=>{y.post("/user/login",{email:s,password:l},{withCredentials:!0}).then(i=>{e(i)})})}const N=F("\u767B\u5F55"),S=F("\u6CE8\u518C"),U=C({setup(s){const l=x(),e=b({email:"",password:""}),d={enroll(){f.push({path:"/enroll"})},home(){f.push({path:"/"})}},i={loginAction(){L(e.email,e.password).then(r=>{if(console.log(r),r.data.code===200){const o=r.data;B({message:"\u767B\u5F55\u6210\u529F\uFF0C\u6B22\u8FCE "+o.username,type:"success"}),l.setToken(o.token),d.home(),console.log(o.token)}else B({message:"\u7528\u6237\u540D\u6216\u8005\u5BC6\u7801\u9519\u8BEF",type:"error"})})}};return(r,o)=>{const p=c("el-input"),m=c("el-form-item"),E=c("el-form"),h=c("el-button");return w(),g(k,null,[t(E,{"label-position":"left","label-width":"80px",model:n(e),style:{"max-width":"480px"}},{default:u(()=>[t(m,{label:"\u90AE\u7BB1"},{default:u(()=>[t(p,{modelValue:n(e).email,"onUpdate:modelValue":o[0]||(o[0]=_=>n(e).email=_),placeholder:"\u8F93\u5165\u90AE\u7BB1"},null,8,["modelValue"])]),_:1}),t(m,{label:"\u5BC6\u7801"},{default:u(()=>[t(p,{modelValue:n(e).password,"onUpdate:modelValue":o[1]||(o[1]=_=>n(e).password=_),type:"password",placeholder:"\u8F93\u5165\u5BC6\u7801","show-password":""},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),t(h,{type:"primary",round:"",onClick:i.loginAction},{default:u(()=>[N]),_:1},8,["onClick"]),t(h,{type:"success",round:"",onClick:d.enroll},{default:u(()=>[S]),_:1},8,["onClick"])],64)}}});const v=s=>(A("data-v-161a3230"),s=s(),I(),s),$={class:"content"},j=v(()=>a("h1",null,"\u5927\u6570\u636E\u4E0B\u7684\u7EA2\u8272\u666F\u70B9\u63A8\u8350\u7CFB\u7EDF",-1)),D={class:"main-content"},T=v(()=>a("div",{style:{width:"auto"}},[a("label",{class:"font"},"\u767B\u5F55\u754C\u9762")],-1)),q={style:{width:"auto"}},M=C({setup(s){return(l,e)=>(w(),g("div",$,[j,a("div",D,[T,a("div",q,[t(U)])])]))}});var z=V(M,[["__scopeId","data-v-161a3230"]]);export{z as default};
